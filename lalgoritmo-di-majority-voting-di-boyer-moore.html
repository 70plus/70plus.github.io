<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>L&#x27;algoritmo di Majority Voting di Boyer-Moore - 70plus - and still a lot to do</title><meta name="description" content="L'algoritmo di Boyer-Moore determina efficientemente chi, in una votazione con un numero di candidati non noto a priori, abbia raggiunto la maggioranza assoluta"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://70plus.it/lalgoritmo-di-majority-voting-di-boyer-moore.html"><link rel="alternate" type="application/atom+xml" href="https://70plus.it/feed.xml"><link rel="alternate" type="application/json" href="https://70plus.it/feed.json"><meta property="og:title" content="L'algoritmo di Majority Voting di Boyer-Moore"><meta property="og:image" content="https://70plus.it/media/posts/24/democrats-3594094_1920.jpg"><meta property="og:image:width" content="1920"><meta property="og:image:height" content="1636"><meta property="og:site_name" content="70plus - and still a lot to do"><meta property="og:description" content="L'algoritmo di Boyer-Moore determina efficientemente chi, in una votazione con un numero di candidati non noto a priori, abbia raggiunto la maggioranza assoluta"><meta property="og:url" content="https://70plus.it/lalgoritmo-di-majority-voting-di-boyer-moore.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://70plus.it/assets/css/style.css?v=a658f9393ff28f34900551a5d4f62373"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://70plus.it/lalgoritmo-di-majority-voting-di-boyer-moore.html"},"headline":"L'algoritmo di Majority Voting di Boyer-Moore","datePublished":"2023-03-26T15:06","dateModified":"2023-03-27T07:56","image":{"@type":"ImageObject","url":"https://70plus.it/media/posts/24/democrats-3594094_1920.jpg","height":1636,"width":1920},"description":"L'algoritmo di Boyer-Moore determina efficientemente chi, in una votazione con un numero di candidati non noto a priori, abbia raggiunto la maggioranza assoluta","author":{"@type":"Person","name":"Pasquale","url":"https://70plus.it/authors/pasquale/"},"publisher":{"@type":"Organization","name":"Pasquale"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><link rel="me" href="https://mastodon.uno/@pasqualepetrosino"></head><body><script src="https://swetrix.org/swetrix.js" defer="defer"></script><script>document.addEventListener('DOMContentLoaded', function() {
    swetrix.init('WoH0No9arSTq')
    swetrix.trackViews()
  })</script><noscript><img src="https://api.swetrix.com/log/noscript?pid=WoH0No9arSTq" alt="" referrerpolicy="no-referrer-when-downgrade"></noscript><div class="container js-container"><nav class="menu"><ul class="navbar__menu"><li><a href="https://70plus.it/" target="_self">Home</a></li><li class="has-submenu"><span>Argomenti</span><ul class="navbar__submenu"><li><a href="https://70plus.it/tags/numeri/" target="_self">Numeri</a></li><li><a href="https://70plus.it/tags/cose-informatiche/" target="_self">Cose informatiche</a></li><li><a href="https://70plus.it/tags/cucina/" target="_self">Cucina</a></li><li><a href="https://70plus.it/tags/pensieri/" target="_self">Pensieri</a></li><li><a href="https://70plus.it/tags/ricordi/" target="_self">Ricordi</a></li><li><a href="https://70plus.it/tags/produttivita/" title="Produttività" target="_self">Produttività</a></li></ul></li><li class="has-submenu"><a href="https://70plus.it/javascript.html" target="_self">Javascript</a><ul class="navbar__submenu"><li><a href="tris1.html" target="_self">Tris</a></li><li><a href="lunaplay.html" target="_self">LunaPlay</a></li><li><a href="quantonesai.html" target="_self">Quanto ne sai?</a></li><li><a href="cliccami.html" target="_self">Cliccami!</a></li></ul></li><li><a href="https://70plus.it/ambienti-online-per-python.html" target="_self">Ambienti online per Python</a></li><li><a href="https://70plus.it/la-cucina-vista-da-me.html" target="_self">La cucina vista da me</a></li><li><a href="https://70plus.it/cookies-e-privacy-policy.html" target="_self">Cookie e Privacy Policy</a></li><li><a href="https://70plus.it/su-di-me.html" title="Su di me" target="_self">Su di me</a></li></ul></nav><div class="content"><header class="top"><div class="top__item"><a class="logo" href="https://70plus.it/">70plus - and still a lot to do</a></div><div class="top__item top__item--right"><button class="menu-toggle js-menu-toggle" aria-label="Menu" aria-expanded="false"><span class="menu-toggle-box"><span class="menu-toggle-inner">Menu</span></span></button></div></header><main class="main"><article class="post"><div class="main__left"><figure class="hero"><img src="https://70plus.it/media/posts/24/democrats-3594094_1920.jpg" srcset="https://70plus.it/media/posts/24/responsive/democrats-3594094_1920-xs.jpg 300w, https://70plus.it/media/posts/24/responsive/democrats-3594094_1920-sm.jpg 480w, https://70plus.it/media/posts/24/responsive/democrats-3594094_1920-md.jpg 768w, https://70plus.it/media/posts/24/responsive/democrats-3594094_1920-lg.jpg 1024w, https://70plus.it/media/posts/24/responsive/democrats-3594094_1920-xl.jpg 1280w, https://70plus.it/media/posts/24/responsive/democrats-3594094_1920-2xl.jpg 1600w" sizes="(min-width: 1800px) 50vw, (min-width: 900px) 40vw, 100vw" loading="eager" height="1636" width="1920" alt=""></figure><header><h1>L&#x27;algoritmo di Majority Voting di Boyer-Moore</h1><p><time datetime="2023-03-26T15:06">March 26, 2023 </time>by <a href="https://70plus.it/authors/pasquale/" rel="author" title="Pasquale">Pasquale</a></p></header></div><div class="main__right"><div class="post__entry"><p>Nel 1981 due ricercatori, <strong>Robert S. Boyer</strong> e <strong>J. Strother Moore</strong>, crearono un algoritmo che consente di determinare im modo estremamante efficiente se, in una votazione con un numero di candidati non noto a priori, ce ne sia uno che abbia raggiunto la <strong>maggioranza assoluta</strong>, cioè la metà dei voti più uno.</p><p>Il loro <strong>Majority Voting Algorithm</strong> trova applicazioni nel campo dell'informatica, meno in quello di reali votazioni, dove non basta dichiarare chi è il vincitore, ma occorre offrire trasparenza sul dettaglio dei risultati.</p><p>Ma quali vantaggi dal punto di vista informatico offre il Majority Voting Algorithm, rispetto a uno scrutinio tradizionale? Essenzialmente due, legati rispettivamente al <strong>tempo di esecuzione</strong> e alla <strong>quantità di memoria</strong> necessaria per l'esecuzione.</p><h4>Il tempo di esecuzione dell'algoritmo è lineare</h4><p>È sufficiente infatti scorrere due volte la sequenza di schede, per:</p><ul><li>verificare, al primo passo, se esiste un potenziale vincitore o no;</li><li>confermare il vincitore, o concludere che nessuno ha raggiunto la maggioranza assoluta, al secondo passo.</li></ul><h4>La memoria necessaria non dipende dal numero di candidati, né dal numero di schede</h4><p>In un algoritmo di scrutinio tradizionale, si predisporrebbe un contatore per il conteggio dei voti di ciascun candidato. Nell'algoritmo di Boyer-Moore, invece, si predispongono solo tre contatori, relativi a tre <strong><em>pile</em></strong> tra cui vengono spostate le schede durante i due passi.<br>Alla fine del secondo passo, in caso di presenza di un candidato che abbia raggiunto la maggioranza assoluta, in una delle pile si troverà un numero di schede pari al margine di quel candidato su tutti gli altri.</p><h4>L'algoritmo: primo passo, il <em>pairing</em></h4><p>Si indichi con <strong>p</strong><strong>ila A</strong>, <strong>pila B</strong> e <strong>pila C</strong> le tre pile utilizzate nell'esecuzione dell'algoritmo.<br>Inizialmente si predispongono le schede sulla pila A, a faccia in su.</p><p>Fino a esaurimento della pila A, si operi come segue:</p><ul><li>si sposti sulla pila B la scheda che si trova in cima alla pila A se:<ul><li>la pila B è vuota;</li><li>oppure se in cima alla pila B c'è una scheda con la stessa preferenza della scheda che si sta spostando;</li></ul></li><li>se, invece, la scheda in cima alla pila B ha una preferenza per un candidato diverso da quello della scheda che si sta spostando, allora tutte e due le schede vengono spostate sulla pila C.</li></ul><p>Alla fine del primo passo la pila A sarà vuota, la pila C conterrà una serie di coppie di schede recanti preferenze discordanti, mentre la pila B sarà vuota oppure conterrà schede con preferenza per un unico candidato X.</p><p>In base a ciò, si può concludere che, a parte X, <strong>nessuno degli altri candidati può aver raggiunto la maggioranza assoluta</strong>, perché al massimo può esserci un candidato che ha ottenuto la metà dei voti. E questo accade se uno stesso candidato è presente in ciascuna delle coppie di schede che popolano la pila C.</p><p>Si esce dal primo passo, il <strong><em>pairing</em></strong>, con una di queste due condizioni:</p><ul><li>nessun candidato ha raggiunto la maggioranza assoluta (la pila B è vuota);</li><li>nella pila B ci sono schede con preferenze per un unico candidato (<strong>X</strong>), che è quindi il potenziale vincitore.</li></ul><h4>L'algoritmo: secondo passo, il <em>counting</em></h4><p>Il secondo passo viene effettuato sostanzialmente con le stesse regole del primo, scambiando il ruolo tra le pile A e C, ma questa volta verificando chi ha ricevuto più preferenze, tra <strong>X</strong> e <strong>tutti gli altri candidati messi insieme</strong>.<br>Se ha prevalso X, allora <strong>X è il vincitore</strong>, in caso contrario non c'è nessun vincitore.</p><h4>L'algoritmo in Python</h4><p>Il codice Python, abbastanza elementare, si articola come segue:</p><ol><li>una prima sezione predispone l'insieme dei candidati e, in modo casuale, una serie di schede ciascuna indicante una preferenza; in questa sezione è possibile forzare se un candidato ha la maggioranza assoluta, e il relativo margine;</li><li>nella seconda sezione, viene effettuato uno scrutinio tradizionale, per poter verificare successivamente il risultato dell'algoritmo;</li><li>nella terza sezione si esegue il passo del <strong>pairing</strong>;</li><li>nell'ultima sezione, eseguita solo se il pairing ha indicato un potenzale vincitore, si esegue il passo del <strong>counting</strong>.</li></ol><h4>Il codice Python</h4><pre># Majority Voting Algorithm, Boyer-Moore 1981
# p.p. 25mar23
import random
#
candidati = ("A","B","C","D","E")
min_preferenze, max_preferenze = 0,10
majority = False
margin = 2
#
n_candidati = len(candidati)
schede = []
#
for c in candidati:
  schede = schede + random.randint(min_preferenze,max_preferenze)*list(c)
#
if majority:
  first_pref = schede.count(candidati[0])
  x = len(schede) - 2 * first_pref + margin
  schede += x * candidati[0]
random.shuffle(schede)
#
print ("Numero di candidati: {}".format(n_candidati))
print ("Numero di schede da scrutinare: {}".format(len(schede)))
print ("Maggioranza assoluta: {}".format(int(len(schede)/2)+1))
print ("Schede da scrutinare:\n{}".format(schede))
print ("\nDistribuzione dei voti:\n=======================")
max = -1
for c in candidati:
  voti = schede.count(c)
  print ("{} --&gt; {}".format(c,voti))
  if voti &gt; max:
    max, winner = voti, c
print ("Massimo dei voti: {}, ottenuto da {}".format(max, winner))
#
print ("\nPasso di pairing\n================")
pila_A = schede
pila_B = []
pila_C = []
#
for scheda in pila_A:
  if len(pila_B) == 0 or scheda == pila_B[0]:
    pila_B += list(scheda)
  else:
    pila_C += list(scheda) + list(pila_B[0])
    del pila_B[0]
pila_A = []
#
print ("pila_A:\n{}\npila_B:\n{}\npila_C:\n{}\n".format(pila_A,pila_B,pila_C))
print ("schede nella pila_A: {}, nella pila_B: {}, nella pila_C: {}".format(len(pila_A),len(pila_B),len(pila_C)))
#
if len(pila_B) &gt; 0:
  x = pila_B[0]
  print ("potenziale vincitore: {}".format(x))
else:
  x = ""
#
if x == "":
  print ("nessun candidato ha raggiunto la maggioranza assoluta")
else:
  print ("\n\nPasso di counting\n=================")
  for scheda in pila_C:
    if len(pila_B) == 0 or (scheda == x and pila_B[0] == x) or (scheda != x and pila_B[0] != x):
      pila_B += list(scheda)
    else:
      pila_A += list(scheda) + list(pila_B[0])
      del pila_B[0]
  pila_C = []
#
  print ("pila_A:\n{}\npila_B:\n{}\npila_C:\n{}\n".format(pila_A,pila_B,pila_C))
  print ("schede nella pila_A: {}, nella pila_B: {}, nella pila_C: {}".format(len(pila_A),len(pila_B),len(pila_C)))
#
  if pila_B[0] == x:
    print ("{} è il vincitore! margine: {}".format(x,len(pila_B)))
  else:
      print ("nessun candidato ha raggiunto la maggioranza assoluta")
</pre><h4>Un caso di votazione senza vincitori con maggioranza assoluta</h4><p>Ecco di seguito l'output dell'algoritmo in un caso in cui, non avendo forzato la vittoria del candidato A, effettivamente non c'è stato un vincitore:</p><pre>Numero di candidati: 5
Numero di schede da scrutinare: 29
Maggioranza assoluta: 15
Schede da scrutinare:
['E', 'C', 'C', 'D', 'A', 'A', 'E', 'D', 'A', 'E', 'B', 'D', 'A', 'C', 'C', 'D', 'A', 'A', 'C', 'C', 'D', 'D', 'C', 'D', 'D', 'D', 'E', 'D', 'C']

Distribuzione dei voti:
=======================
A --&gt; 6
B --&gt; 1
C --&gt; 8
D --&gt; 10
E --&gt; 4
Massimo dei voti: 10, ottenuto da D

Passo di pairing
================
pila_A:
[]
pila_B:
['D', 'D', 'D']
pila_C:
['C', 'E', 'D', 'C', 'E', 'A', 'D', 'A', 'E', 'A', 'D', 'B', 'C', 'A', 'D', 'C', 'C', 'A', 'C', 'A', 'C', 'D', 'E', 'D', 'C', 'D']

schede nella pila_A: 0, nella pila_B: 3, nella pila_C: 26
potenziale vincitore: D


Passo di counting
=================
pila_A:
['C', 'D', 'E', 'D', 'C', 'D', 'E', 'D', 'D', 'A', 'D', 'A', 'D', 'E', 'D', 'A', 'D', 'B', 'D', 'C']
pila_B:
['A', 'C', 'C', 'A', 'C', 'A', 'C', 'E', 'C']
pila_C:
[]

schede nella pila_A: 20, nella pila_B: 9, nella pila_C: 0
nessun candidato ha raggiunto la maggioranza assoluta  
</pre><p>Il <em><strong>pairing</strong></em> ha indicato <strong>D</strong> come potenziale vincitore, ma il <em><strong>counting</strong></em> mostra che <strong>D</strong> ha meno voti degli altri candidati messi insieme, perché la pila B contiene solo schede con preferenze diverse da D.</p><p>Ed ecco, invece, un caso in cui si è forzata la vittoria di A con il margine di 1 voto, modificando così il codice:</p><pre>majority = True
margin = 1
</pre><p>L'<em>output</em>:</p><pre>Numero di candidati: 5
Numero di schede da scrutinare: 39
Maggioranza assoluta: 20
Schede da scrutinare:
['A', 'C', 'B', 'A', 'A', 'D', 'A', 'A', 'A', 'C', 'C', 'B', 'A', 'A', 'A', 'A', 'D', 'A', 'B', 'B', 'E', 'C', 'B', 'A', 'C', 'B', 'A', 'A', 'A', 'D', 'A', 'A', 'A', 'A', 'D', 'C', 'A', 'C', 'D']

Distribuzione dei voti:
=======================
A --&gt; 20
B --&gt; 6
C --&gt; 7
D --&gt; 5
E --&gt; 1
Massimo dei voti: 20, ottenuto da A

Passo di pairing
================
pila_A:
[]
pila_B:
['A', 'A', 'A']
pila_C:
['C', 'A', 'A', 'B', 'D', 'A', 'C', 'A', 'C', 'A', 'B', 'A', 'D', 'A', 'B', 'A', 'B', 'A', 'E', 'A', 'C', 'A', 'A', 'B', 'B', 'C', 'D', 'A', 'D', 'A', 'C', 'A', 'C', 'A', 'D', 'A']

schede nella pila_A: 0, nella pila_B: 3, nella pila_C: 36
potenziale vincitore: A


Passo di counting
=================
pila_A:
['C', 'A', 'B', 'A', 'D', 'A', 'C', 'A', 'C', 'A', 'B', 'A', 'D', 'A', 'B', 'A', 'B', 'A', 'E', 'A', 'C', 'A', 'B', 'A', 'B', 'A', 'C', 'A', 'D', 'A', 'D', 'A', 'C', 'A', 'C', 'A', 'D', 'A']
pila_B:
['A']
pila_C:
[]

schede nella pila_A: 38, nella pila_B: 1, nella pila_C: 0
A è il vincitore! margine: 1
</pre><hr><p><em>L'immagine di apertura è di <a href="https://pixabay.com/users/mohamed_hassan-5229782/" target="_blank" rel="nofollow noopener noreferrer">mohamed_hassan</a> from <a href="https://pixabay.com/" target="_blank" rel="nofollow noopener noreferrer">Pixabay</a>.</em></p><footer><div class="post__tag-share"><ul class="post__tag"><li><a href="https://70plus.it/tags/cose-informatiche/">Cose informatiche</a></li></ul><div class="post__share"></div></div><div class="post__bio"><h3><a href="https://70plus.it/authors/pasquale/" title="Pasquale">Pasquale</a></h3><div class="post__bio-desc">Dopo innumerevoli anni da informatico, tra Ivrea e Milano, finalmente a riposo sulle rive del lago di Lecco. Scrivimi a: 70plus@libero.it</div></div></footer></div></div></article></main><footer class="footer"><div class="footer__copyright">Powered by Publii</div></footer></div></div><script defer="defer" src="https://70plus.it/assets/js/scripts.min.js?v=27706a8fe221267c1834098c796f44c1"></script><script>var images = document.querySelectorAll('img[loading]');
   
           for (var i = 0; i < images.length; i++) {
               if (images[i].complete) {
                   images[i].classList.add('is-loaded');
               } else {
                   images[i].addEventListener('load', function () {
                       this.classList.add('is-loaded');
                   }, false);
               }
           }</script></body></html>